<html>
  <head>
		<script src="/socket.io/socket.io.js"></script>
		
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <!--	
  <script src="http://code.highcharts.com/highcharts.js"></script>
  -->

   <script src="../../../../line_chart.js"></script>
  
	
	
  </head>
  <body>
    
    <div>This is our socket.html file <br>
	The generated random number is:<p id= "test" style="color:blue;font-weight:bold"></p></div>

<div id="container" style="width:100%; height:400px;"></div>

  <div id="linechart_material"></div>


<form id="sending">
Sending message:
<input type="text" id="message"></input>
<input type="submit" ></input>

</form> 


	<script>

		/*$(document).ready(function() {
			$("#frissit").click(function(){
				refreshing();
		}); 
		});*/

		
		var socket = io();
		socket.on('info', function (data) {
		console.log(data.msg);
		var tmp =document.getElementById('test');
		var number = parseFloat(data.msg);
		tmp.innerHTML = number;
		document.getElementById('test').value = number;
		});
		
/*		function refreshing()
		{
		window.alert("");
		socket.on('torefresh', function (data2) 
		{
			socket.emit("torefresh", {hali: 'Lali'})
	
		});
		
}*/

		$("#sending").submit(function(e)
		{
		socket.emit("getcity", $("#message").val());
		//alert("valami");
		});
		



	
	$(document).ready(function() {
/*	
	function diagram() { 
//	alert(($("#test").text()));
    $('#container').highcharts({
        chart: {
            type: 'bar'
        },
        title: {
            text: 'Random number'
        },
        xAxis: {
            categories: ['Number 1']
        },
        yAxis: {
            title: {
                text: 'value'
            }
        },
        series: [{
            name: 'Value',
            data: [parseInt($("#test").text())]
        }]
    });
}
setTimeout(diagram, 50)*/
 
 
});
	</script>



  </body>
</html>