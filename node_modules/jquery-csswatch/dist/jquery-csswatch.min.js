/*!
  jquery-csswatch 1.3.0

  Copyright (c) 2012-2014, Leif Ringstad
  All rights reserved.

  build: 2014-08-06

  License: https://github.com/leifcr/jquery-csswatch/blob/master/LICENSE
*/
var __indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,b){var c;b.cssWatchRequestAnimationFrame=function(){return b.requestAnimationFrame||b.webkitAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){return b.setTimeout(a,1e3/60)}}(),b.cssWatchCancelAnimationFrame=function(){return b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame||b.mozCancelAnimationFrame||b.mozCancelRequestAnimationFrame||b.oCancelRequestAnimationFrame||b.msCancelRequestAnimationFrame||function(a){return b.clearTimeout(a)}}(),c=function(b,c){this.elem=b,this.$elem=a(b),this.options=c,this.cb_timer_id=null,this.stop_requested=!1,this.running=!1},c.prototype={defaults:{event_name:"css-change",data_attr_name:"css-watch-data",use_event:!0,callback:null,props:"",props_functions:{}},init:function(){return this.config=a.extend({},this.defaults,this.options,this.metadata),this.config.props=this.splitAndTrimProps(this.config.props),this.config.props.length>0&&(this.setInitialData(),this.start()),this},splitAndTrimProps:function(a){var b,c,d;if(a=a.trim(),d=[],0===a.length)return d;for(b=a.split(","),c=0;c<b.length;)d.push(b[c].trim()),c++;return d},setInitialData:function(){var a;for(a=0;a<this.config.props.length;)this.setData(this.config.props[a],this.getPropertyValue(this.config.props[a])),a++},setData:function(a,b){return this.$elem.data(""+this.config.data_attr_name+"-"+a,b)},updateDataFromChanges:function(a){var b,c,d,e,f;for(f=Object.keys(a),c=d=0,e=f.length;e>d;c=++d)b=f[c],this.setData(b,a[b])},removeData:function(a){return this.$elem.removeData(""+this.config.data_attr_name+"-"+a)},getDataValue:function(a){return this.$elem.data(""+this.config.data_attr_name+"-"+a)},getPropertyValue:function(a){var c;if(0===Object.keys(this.config.props_functions).length)return this.$elem.css(a);if(c=null,__indexOf.call(Object.keys(this.config.props_functions),a)>=0&&(c=this.config.props_functions[a]),null!==c){if(b.ExecuteMethod)return ExecuteMethod.executeMethodByFunctionName(c,this.$elem);console.log("You are missing the ExecuteMethod library.")}return this.$elem.css(a)},changedProperties:function(){var a,b;for(a=0,b={};a<this.config.props.length;)this.getPropertyValue(this.config.props[a])!==this.getDataValue(this.config.props[a])&&(b[this.config.props[a]]=this.getPropertyValue(this.config.props[a])),a++;return b},stop:function(){return"undefined"!=typeof this.config&&null!==this.config?(this.stop_requested=!0,this.running=!1,b.cssWatchCancelAnimationFrame(this.cb_timer_id)):void 0},start:function(){"undefined"!=typeof this.config&&null!==this.config&&(this.stop_requested=!1,this.running=!0,this.cb_timer_id=b.cssWatchRequestAnimationFrame(function(a){return function(){a.check()}}(this)))},check:function(){var a;return this.stop_requested===!0?!1:"undefined"==typeof this.config||null===this.config?!1:(a=this.changedProperties(),Object.keys(a).length>0&&(this.config.use_event&&this.$elem.trigger(this.config.event_name,a),null!==this.config.callback&&this.config.callback.apply(null,[a]),this.updateDataFromChanges(a)),this.cb_timer_id=b.cssWatchRequestAnimationFrame(function(a){return function(){a.check()}}(this)),!1)},isRunning:function(){return this.running===!0},destroy:function(){var a;for(this.stop(),this.$elem.removeData("css-watch-object"),a=0;a<this.config.props.length;)this.removeData(this.config.props[a]),a++;return this.$elem.removeData(this.config.data_attr_name),null}},c.defaults=c.prototype.defaults,a.fn.csswatch=function(b){return this.each(function(){var d,e;if("object"!=typeof b&&b){if("string"==typeof b&&(e=a(this).data("css-watch-object"),e&&e[b]))return e[b].apply(e)}else if(d=a(this).data("css-watch-object"),!d)return e=new c(this,b),a(this).data("css-watch-object",e),e.init()})}}(jQuery,window,document),Object.keys||(Object.keys=function(a){var b,c;if(a!==Object(a))throw new TypeError("Object.keys called on non-object");c=[],b=void 0;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c});